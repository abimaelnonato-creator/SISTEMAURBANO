# ===================================
# CONFIGURAÇÃO DO SISTEMA DE GESTÃO URBANA
# PREFEITURA DE PARNAMIRIM/RN
# ===================================

# ===== APLICAÇÃO =====
NODE_ENV=production
PORT=3000
API_URL=https://api.gestao.parnamirim.rn.gov.br
FRONTEND_URL=https://gestao.parnamirim.rn.gov.br

# ===== BANCO DE DADOS =====
DATABASE_URL=postgresql://admin:SENHA_SEGURA_AQUI@postgres:5432/parnamirim_gestao

# ===== REDIS =====
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_QUEUE_DB=1
# Alternativo: REDIS_URL=redis://redis:6379/0

# ===== JWT =====
JWT_SECRET=SUA_CHAVE_SECRETA_JWT_AQUI_MINIMO_32_CARACTERES
JWT_EXPIRES_IN=1d
JWT_REFRESH_SECRET=OUTRA_CHAVE_PARA_REFRESH_TOKEN_MIN_32_CHARS
JWT_REFRESH_EXPIRES_IN=7d

# ===== EVOLUTION API (WhatsApp) =====
EVOLUTION_API_URL=http://evolution-api:8080
EVOLUTION_API_KEY=PARNAMIRIM_EVOLUTION_API_KEY_2024_MUDAR_EM_PRODUCAO
EVOLUTION_INSTANCE_NAME=ouvidoria_parnamirim
EVOLUTION_WEBHOOK_URL=http://api:3000/api/whatsapp/webhook

# ===== STORAGE (MINIO/S3) =====
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=parnamirim-demandas
MINIO_PUBLIC_URL=https://storage.gestao.parnamirim.rn.gov.br

# ===== OPENAI (CLASSIFICAÇÃO IA) =====
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXX
OPENAI_MODEL=gpt-4-turbo-preview

# ===== GEOCODIFICAÇÃO =====
GOOGLE_MAPS_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ===== EMAIL (SMTP) =====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=ouvidoria@parnamirim.rn.gov.br
SMTP_PASS=SENHA_APP_AQUI
SMTP_FROM=Gestão Urbana <ouvidoria@parnamirim.rn.gov.br>

# ===== RATE LIMITING =====
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ===== CORS =====
CORS_ORIGINS=https://gestao.parnamirim.rn.gov.br

# ===== CACHE TTL (segundos) =====
CACHE_TTL_DEFAULT=300
CACHE_TTL_DASHBOARD=60
CACHE_TTL_CATEGORIES=3600

# ===== SLA (horas) =====
SLA_DEFAULT_HOURS=48
SLA_CRITICAL_HOURS=4
SLA_HIGH_HOURS=24
SLA_MEDIUM_HOURS=48
SLA_LOW_HOURS=168

# ===== WEBSOCKET =====
WS_PORT=3001
WS_PATH=/socket.io

# ===== CONFIGURAÇÕES DO WHATSAPP =====
# Número que será conectado (formato: 5584999999999)
# DEIXE EM BRANCO - Será configurado via QR Code no painel admin
WHATSAPP_NUMBER=

# ===== CONFIGURAÇÕES DE NEGÓCIO =====
# Prefixo do protocolo de demandas
PROTOCOL_PREFIX=PNM
# Horário de atendimento (24h format)
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=17:00
# Dias de atendimento (0=Dom, 1=Seg, ..., 6=Sab)
BUSINESS_DAYS=1,2,3,4,5

# ===== SEGURANÇA (Produção) =====
HELMET_ENABLED=true
COMPRESSION_ENABLED=true
TRUST_PROXY=true

